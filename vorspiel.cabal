cabal-version:       3.0
-- Initial package description 'vorspiel.cabal' generated by 'cabal init'.
--   For further documentation, see http://haskell.org/cabal/users-guide/

name:                vorspiel
version:             0.1.0.0
synopsis:            Yet another alternative Prelude.
-- description:
homepage:            https://github.com/ambroslins/vorspiel
bug-reports:         https://github.com/ambroslins/vorspiel/issues
license:             BSD-3-Clause
license-file:        LICENSE
author:              Ambros Lins
maintainer:          ambros.lins@gmail.com
copyright:           2021-2022 Ambros Lins
category:            Prelude
extra-source-files:
  , README.md
  , CHANGELOG.md

tested-with: GHC ==8.10.7 || ==9.2.1

common common-options
  default-language:    Haskell2010
  build-depends:
    , base >= 4.14.3.0
    , text >= 1.2.4.1
    , containers >= 0.6.5.1
    , hashable >= 1.4.0.2
    , unordered-containers >= 0.2.16.0
    , semigroupoids >= 5.3.7

  ghc-options:
    -Wall
    -Wcompat
    -Widentities

  default-extensions:
    , NoImplicitPrelude
    , BangPatterns
    , ImportQualifiedPost
    , LambdaCase
    , RankNTypes
    , TypeApplications

library
  import:              common-options
  hs-source-dirs:      src
  exposed-modules:
    , Vorspiel
    , HashMap
    , HashSet
    , IntMap
    , IntSet
    , Lens
    , List
    , Map
    , NonEmpty
    , Sequence
    , Set
    , Text

  other-modules:
    , Vorspiel.Prelude
    , Vorspiel.Foldable


test-suite spec
  import:              common-options
  type:                exitcode-stdio-1.0
  hs-source-dirs:      test
  main-is:             Spec.hs
  build-tool-depends:  hspec-discover:hspec-discover
  build-depends:
    , vorspiel
    , hspec
    , QuickCheck
    , quickcheck-instances

  other-modules:
    , ListSpec
    , NonEmptySpec

test-suite doctests
  import:              common-options
  type:                exitcode-stdio-1.0
  hs-source-dirs:      test
  main-is:             Doctests.hs
  build-depends:
    , vorspiel
    , doctest
    , QuickCheck
    , quickcheck-instances
    , template-haskell
    , Glob